const initialTicks = [];
const preTicks = [];
const ticks = [];
let running = false;
export function AddInitialTick(fn) {
    initialTicks.push(fn);
    run();
}
export function AddPreTick(fn) {
    preTicks.push(fn);
    run();
}
export function AddTick(fn) {
    ticks.push(fn);
    run();
}
function run() {
    if (running) {
        return;
    }
    running = true;
    tick();
}
function tick() {
    initialTicks.forEach(fn => fn());
    preTicks.forEach(fn => fn());
    ticks.forEach(fn => fn());
    requestAnimationFrame(tick);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGljay5qcyIsInNvdXJjZVJvb3QiOiIuL3NyYy8iLCJzb3VyY2VzIjpbImNoNS1jb21tb24vdXRpbHMvdGljay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFRQSxNQUFNLFlBQVksR0FBZSxFQUFFLENBQUM7QUFDcEMsTUFBTSxRQUFRLEdBQWUsRUFBRSxDQUFDO0FBQ2hDLE1BQU0sS0FBSyxHQUFlLEVBQUUsQ0FBQztBQUM3QixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFFcEIsTUFBTSxVQUFVLGNBQWMsQ0FBQyxFQUFZO0lBQzFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdEIsR0FBRyxFQUFFLENBQUM7QUFDUCxDQUFDO0FBRUQsTUFBTSxVQUFVLFVBQVUsQ0FBQyxFQUFZO0lBQ3RDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDbEIsR0FBRyxFQUFFLENBQUM7QUFDUCxDQUFDO0FBRUQsTUFBTSxVQUFVLE9BQU8sQ0FBQyxFQUFZO0lBQ25DLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDZixHQUFHLEVBQUUsQ0FBQztBQUNQLENBQUM7QUFFRCxTQUFTLEdBQUc7SUFDWCxJQUFJLE9BQU8sRUFBRTtRQUNaLE9BQU87S0FDUDtJQUVELE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDZixJQUFJLEVBQUUsQ0FBQztBQUNSLENBQUM7QUFFRCxTQUFTLElBQUk7SUFDWixZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNqQyxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM3QixLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMxQixxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM3QixDQUFDIn0=